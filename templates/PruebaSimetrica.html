{% extends "layout.html" %}
{% block title %}
Prueba de C. Sim√©trico
{% endblock %}
{% block content %}
<h1>Cifrado simetrico</h1>

    <h2>Encriptar Mensaje</h2>

    <form method="post">
        <input type="hidden" name="mode" value="list">
        <input type="submit" value="Listar">
    </form>
    
    <form method="post">
        <label for="message">Mensaje:</label><br>
        <input type="text" id="message" name="message"><br><br>
        <label for="key">Clave:</label><br>
        <input type="text" id="key" name="key"><br><br>
        <input type="hidden" name="mode" value="encrypt">
        <input type="submit" value="Encriptar">
    </form>

    {% if encrypted_message %}                               
        <h2>Mensaje Encriptado:</h2>
        <p>
            <p>{{ encrypted_message }}</p>
        </p>
        <!--Agrego un enlace de descarga-->
        <a href="{{url_for('dowland_result', result=result,mode=mode) }}" download="encriptado.gpg">
            Descargar
        </a>
    {%elif mode == 'encrypt'%}
    {% endif %}

    <h2>Desencriptar Mensaje</h2>
    <form method="post">
        <label for="encrypted_message">Mensaje Encriptado:</label><br>
        <input type="text" id="encrypted_message" name="message"><br><br>
        <label for="key_decrypt">Clave:</label><br>
        <input type="text" id="key_decrypt" name="key"><br><br>
        <input type="hidden" name="mode" value="decrypt">
        <input type="submit" value="Desencriptar">
    </form>

    {% if decrypted_message %}
        <h2>Mensaje:</h2>
        <p> 
            <p>{{ decrypted_message }}</p>
        </p>
        <!--Agrego un enlace de descarga-->
        <a href="{{url_for('dowland_result', result=result,mode=mode) }}" download="desencriptado.txt">
            Descargar
        </a>
    {%elif mode == 'decrypt'%}
    {% endif %}
{% endblock %}